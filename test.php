<?php


$input = json_decode('{
    "success": true,
    "email": "sahilmore405@gmail.com",
    "emailType": "personal",
    "person": {
        "publicIdentifier": "sahil-more-405",
        "linkedInIdentifier": "ACoAAC_q07YBpcFg_sZRpQ62-kpxGqIbazFqcr4",
        "firstName": "Sahil",
        "lastName": "More",
        "headline": "IIIT D MTech CSE25 ||  Ex-TCSer (Digital Cadre) || 5⭐ Problem Solver @HackerRank || GATE CS Qualified",
        "location": "Mumbai, Maharashtra India",
        "photoUrl": "https://media.licdn.com/dms/image/D4D03AQF9yFdgrioxsQ/profile-displayphoto-shrink_800_800/0/1677177923064?e=1704326400&v=beta&t=arO2Fsaw7AheZwEn84-_h6aYujcABVt0FJ4vCcPH2Bw",
        "followerCount": 297,
        "connectionCount": 299,
        "emails": [],
        "phoneNumbers": [],
        "positions": {
            "positionsCount": 1,
            "positionHistory": [
                {
                    "startEndDate": {
                        "start": {
                            "month": 8,
                            "year": 2022
                        },
                        "end": {
                            "month": 5,
                            "year": 2023
                        }
                    },
                    "title": "System Engineer (Digital - C1)",
                    "description": "Role: Engineer.Information Security\nDelivery Governance, Risk & Security",
                    "companyName": "Tata Consultancy Services ",
                    "companyLocation": "Mumbai, Maharashtra, India",
                    "companyLogo": "https://media.licdn.com/dms/image/C4D0BAQFPP1NRP4F5dQ/company-logo_200_200/0/1656657976685/tata_consultancy_services_logo?e=1706745600&v=beta&t=XaSSiRbCrajDw9wNfB9SBP0Rgt62nsaCiKqCpdhzoME",
                    "linkedInUrl": "https://www.linkedin.com/company/1353/"
                }
            ]
        },
        "schools": {
            "educationsCount": 3,
            "educationHistory": [
                {
                    "schoolName": "Indraprastha Institute of Information Technology, Delhi",
                    "description": "IIIT D M.Tech CSE program is designed to improve the students theoretical foundations, practical skills, research abilities, communication skills and professional ethics in the field of Computer Science.\n\nI am glad to be part of this Institute.",
                    "degreeName": "Master of Technology - MTech, Computer Science",
                    "fieldOfStudy": "Master of Technology - MTech, Computer Science",
                    "schoolLogo": "https://media.licdn.com/dms/image/C560BAQG8G8yRaFuoBQ/company-logo_200_200/0/1519863887737?e=1706745600&v=beta&t=Dbg10bgQ4vZ5-bpU9AAdqfUaQNNiSeVzzPHlbUJZr_U",
                    "linkedInUrl": "https://www.linkedin.com/company/362624/"
                },
                {
                    "startEndDate": {
                        "start": {
                            "month": 8,
                            "year": 2018
                        },
                        "end": {
                            "month": 8,
                            "year": 2022
                        }
                    },
                    "schoolName": "Savitribai Phule Pune University",
                    "description": "Skills: Databases · Fundamentals · MySQL · Programming · Mathematics · Data Structures · C (Programming Language)",
                    "degreeName": "Bachelor of Engineering - BE, Computer Science",
                    "fieldOfStudy": "Bachelor of Engineering - BE, Computer Science",
                    "schoolLogo": "https://media.licdn.com/dms/image/C4E0BAQEFsIyAZyuMwA/company-logo_200_200/0/1519904707827?e=1706745600&v=beta&t=vHWG0hwQO6uoSb3MW0ITorGKX2dCvSqsoKPE2S--XRs",
                    "linkedInUrl": "https://www.linkedin.com/company/15094398/"
                },
                {
                    "startEndDate": {
                        "start": {
                            "month": 7,
                            "year": 2016
                        },
                        "end": {
                            "month": 3,
                            "year": 2018
                        }
                    },
                    "schoolName": "Thakur College of Science & Commerce",
                    "description": "Skills: Computer Science · x86 Assembly · Microprocessors · Assembly Language · HTML · Operating Systems · Mathematics · Data Structures · C++ · C (Programming Language)",
                    "degreeName": "Maharashtra State Board HSC, Math & Comp Sci",
                    "fieldOfStudy": "Maharashtra State Board HSC, Math & Comp Sci",
                    "schoolLogo": "https://media.licdn.com/dms/image/C510BAQG8jPGlykUnsw/company-logo_200_200/0/1551424308101/thakur_college_of_science__commerce_logo?e=1706745600&v=beta&t=VWHBwwx8pNr0qtofrFkwphJuZioXHuA1zfnrpII7CSg",
                    "linkedInUrl": "https://www.linkedin.com/company/6117541/"
                }
            ]
        },
        "skills": [
            "Security Controls",
            "ISO 27001",
            "Information Security Incident Management ",
            "Problem Solving",
            "Computer Science",
            "x86 Assembly",
            "Microprocessors",
            "Assembly Language",
            "HTML",
            "Relational Databases",
            "Oral Communication",
            "Operating Systems",
            "Written Communication",
            "System Development",
            "Learning",
            "Computer Engineering",
            "RDBMS",
            "Debugging",
            "Analytical Skills",
            "Humility"
        ],
        "linkedInUrl": "https://linkedin.com/in/sahil-more-405"
    },
    "company": {
        "websiteUrl": "https://www.tcs.com/",
        "name": "Tata Consultancy Services",
        "logo": "https://media.licdn.com/dms/image/C4D0BAQFPP1NRP4F5dQ/company-logo_200_200/0/1656657976685/tata_consultancy_services_logo?e=1706745600&v=beta&t=XaSSiRbCrajDw9wNfB9SBP0Rgt62nsaCiKqCpdhzoME",
        "employeeCount": 578454,
        "description": "A purpose-led organization that is building a meaningful future through innovation, technology, and collective knowledge. Were #BuildingOnBelief.\n\nA part of the Tata group, Indias largest multinational business group, TCS has over 500,000 of the worlds best-trained consultants in 46 countries. The company generated consolidated revenues of US $22.2 billion in the fiscal year ended March 31, 2021, and is listed on the BSE (formerly Bombay Stock Exchange) and the NSE (National Stock Exchange) in India. \n\nTCS proactive stance on climate change and award-winning work with communities across the world have earned it a place in leading sustainability indices such as the MSCI Global Sustainability Index and the FTSE4Good Emerging Index. \n\nFor more information, visit us at the link below\n\n*Caution against fraudulent job offers*: TCS doesnt charge any fee throughout the recruitment process. Refer here: on.tcs.com/3i9X5BU",
        "tagline": "Building on belief",
        "specialities": [
            "IT Services",
            "Business Solutions",
            "Consulting"
        ],
        "headquarter": {
            "country": "IN",
            "geographicArea": "Maharashtra",
            "city": "Mumbai",
            "postalCode": "400001"
        },
        "industry": "IT Services and IT Consulting",
        "universalName": "tata-consultancy-services",
        "linkedinUrl": "https://www.linkedin.com/company/tata-consultancy-services/",
        "linkedinId": "1353"
    },
    "credits_left": 8,
    "rate_limit_left": 18
}',true);


function flattenArray($input, $prefix = '') {
    $output = [];

    foreach ($input as $key => $value) {
        if(is_integer($key)){
            $newKey = empty($prefix) ? $key : $prefix . '[' . $key."]";
        }else{            
           $newKey = empty($prefix) ? $key : $prefix . '/' . $key;
        }
        if (is_array($value)) {
            $output = array_merge($output, flattenArray($value, $newKey));
        } else {
            $output[$newKey] = $value;
        }
    }

    return $output;
}

$flattenedData = flattenArray($input);
var_dump($flattenedData);
exit();


echo json_encode($output, JSON_PRETTY_PRINT);

?>